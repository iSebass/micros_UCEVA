
DS1307.elf:     file format elf32-avr

Sections:
Idx Name          Size      VMA       LMA       File off  Algn
  0 .data         00000000  00800100  00800100  0000029a  2**0
                  CONTENTS, ALLOC, LOAD, DATA
  1 .text         00000246  00000000  00000000  00000054  2**1
                  CONTENTS, ALLOC, LOAD, READONLY, CODE
  2 .comment      00000030  00000000  00000000  0000029a  2**0
                  CONTENTS, READONLY
  3 .note.gnu.avr.deviceinfo 00000040  00000000  00000000  000002cc  2**2
                  CONTENTS, READONLY
  4 .debug_aranges 000000c0  00000000  00000000  0000030c  2**0
                  CONTENTS, READONLY, DEBUGGING
  5 .debug_info   00001022  00000000  00000000  000003cc  2**0
                  CONTENTS, READONLY, DEBUGGING
  6 .debug_abbrev 00000adb  00000000  00000000  000013ee  2**0
                  CONTENTS, READONLY, DEBUGGING
  7 .debug_line   00000673  00000000  00000000  00001ec9  2**0
                  CONTENTS, READONLY, DEBUGGING
  8 .debug_frame  00000164  00000000  00000000  0000253c  2**2
                  CONTENTS, READONLY, DEBUGGING
  9 .debug_str    00000599  00000000  00000000  000026a0  2**0
                  CONTENTS, READONLY, DEBUGGING
 10 .debug_loc    0000024f  00000000  00000000  00002c39  2**0
                  CONTENTS, READONLY, DEBUGGING
 11 .debug_ranges 00000090  00000000  00000000  00002e88  2**0
                  CONTENTS, READONLY, DEBUGGING

Disassembly of section .text:

00000000 <__vectors>:
   0:	0c 94 5a 00 	jmp	0xb4	; 0xb4 <__ctors_end>
   4:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
   8:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
   c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  10:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  14:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  18:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  1c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  20:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  24:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  28:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  2c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  30:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  34:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  38:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  3c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  40:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  44:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  48:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  4c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  50:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  54:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  58:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  5c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  60:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  64:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  68:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  6c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  70:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  74:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  78:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  7c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  80:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  84:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  88:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  8c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  90:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  94:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  98:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  9c:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  a0:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  a4:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  a8:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  ac:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>
  b0:	0c 94 64 00 	jmp	0xc8	; 0xc8 <__bad_interrupt>

000000b4 <__ctors_end>:
  b4:	11 24       	eor	r1, r1
  b6:	1f be       	out	0x3f, r1	; 63
  b8:	cf ef       	ldi	r28, 0xFF	; 255
  ba:	d8 e0       	ldi	r29, 0x08	; 8
  bc:	de bf       	out	0x3e, r29	; 62
  be:	cd bf       	out	0x3d, r28	; 61
  c0:	0e 94 dd 00 	call	0x1ba	; 0x1ba <main>
  c4:	0c 94 21 01 	jmp	0x242	; 0x242 <_exit>

000000c8 <__bad_interrupt>:
  c8:	0c 94 00 00 	jmp	0	; 0x0 <__vectors>

000000cc <DS1307_set_HH>:
	DATE,
	MONTH,
	YEAR	
};

void DS1307_set_HH(char data){
  cc:	cf 93       	push	r28
  ce:	c8 2f       	mov	r28, r24
	TWI_Start();
  d0:	0e 94 07 01 	call	0x20e	; 0x20e <TWI_Start>
	TWI_Write(DIR_DS1307);
  d4:	80 ed       	ldi	r24, 0xD0	; 208
  d6:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(HH);
  da:	82 e0       	ldi	r24, 0x02	; 2
  dc:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(data);
  e0:	8c 2f       	mov	r24, r28
  e2:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Stop();
  e6:	0e 94 0f 01 	call	0x21e	; 0x21e <TWI_Stop>
	
}
  ea:	cf 91       	pop	r28
  ec:	08 95       	ret

000000ee <DS1307_set_MM>:

void DS1307_set_MM(char data){
  ee:	cf 93       	push	r28
  f0:	c8 2f       	mov	r28, r24
	TWI_Start();
  f2:	0e 94 07 01 	call	0x20e	; 0x20e <TWI_Start>
	TWI_Write(DIR_DS1307);
  f6:	80 ed       	ldi	r24, 0xD0	; 208
  f8:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(MM);
  fc:	81 e0       	ldi	r24, 0x01	; 1
  fe:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(data);
 102:	8c 2f       	mov	r24, r28
 104:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Stop();
 108:	0e 94 0f 01 	call	0x21e	; 0x21e <TWI_Stop>
}
 10c:	cf 91       	pop	r28
 10e:	08 95       	ret

00000110 <DS1307_set_SS>:
void DS1307_set_SS(char data){
 110:	cf 93       	push	r28
 112:	c8 2f       	mov	r28, r24
	TWI_Start();
 114:	0e 94 07 01 	call	0x20e	; 0x20e <TWI_Start>
	TWI_Write(DIR_DS1307);
 118:	80 ed       	ldi	r24, 0xD0	; 208
 11a:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(SS);
 11e:	80 e0       	ldi	r24, 0x00	; 0
 120:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(data);
 124:	8c 2f       	mov	r24, r28
 126:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Stop();
 12a:	0e 94 0f 01 	call	0x21e	; 0x21e <TWI_Stop>
}
 12e:	cf 91       	pop	r28
 130:	08 95       	ret

00000132 <DS1307_set_DAY>:

void DS1307_set_DAY(char data){
 132:	cf 93       	push	r28
 134:	c8 2f       	mov	r28, r24
	TWI_Start();
 136:	0e 94 07 01 	call	0x20e	; 0x20e <TWI_Start>
	TWI_Write(DIR_DS1307);
 13a:	80 ed       	ldi	r24, 0xD0	; 208
 13c:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(DAY);
 140:	83 e0       	ldi	r24, 0x03	; 3
 142:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(data);
 146:	8c 2f       	mov	r24, r28
 148:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Stop();
 14c:	0e 94 0f 01 	call	0x21e	; 0x21e <TWI_Stop>
}
 150:	cf 91       	pop	r28
 152:	08 95       	ret

00000154 <DS1307_set_Date>:

void DS1307_set_Date(char data){
 154:	cf 93       	push	r28
 156:	c8 2f       	mov	r28, r24
	TWI_Start();
 158:	0e 94 07 01 	call	0x20e	; 0x20e <TWI_Start>
	TWI_Write(DIR_DS1307);
 15c:	80 ed       	ldi	r24, 0xD0	; 208
 15e:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(DATE);
 162:	84 e0       	ldi	r24, 0x04	; 4
 164:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(data);
 168:	8c 2f       	mov	r24, r28
 16a:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Stop();
 16e:	0e 94 0f 01 	call	0x21e	; 0x21e <TWI_Stop>
}
 172:	cf 91       	pop	r28
 174:	08 95       	ret

00000176 <DS1307_set_Month>:

void DS1307_set_Month(char data){
 176:	cf 93       	push	r28
 178:	c8 2f       	mov	r28, r24
	TWI_Start();
 17a:	0e 94 07 01 	call	0x20e	; 0x20e <TWI_Start>
	TWI_Write(DIR_DS1307);
 17e:	80 ed       	ldi	r24, 0xD0	; 208
 180:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(MONTH);
 184:	85 e0       	ldi	r24, 0x05	; 5
 186:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(data);
 18a:	8c 2f       	mov	r24, r28
 18c:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Stop();
 190:	0e 94 0f 01 	call	0x21e	; 0x21e <TWI_Stop>
}
 194:	cf 91       	pop	r28
 196:	08 95       	ret

00000198 <DS1307_set_Year>:

void DS1307_set_Year(char data){
 198:	cf 93       	push	r28
 19a:	c8 2f       	mov	r28, r24
	TWI_Start();
 19c:	0e 94 07 01 	call	0x20e	; 0x20e <TWI_Start>
	TWI_Write(DIR_DS1307);
 1a0:	80 ed       	ldi	r24, 0xD0	; 208
 1a2:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(YEAR);
 1a6:	86 e0       	ldi	r24, 0x06	; 6
 1a8:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Write(data);
 1ac:	8c 2f       	mov	r24, r28
 1ae:	0e 94 17 01 	call	0x22e	; 0x22e <TWI_Write>
	TWI_Stop();
 1b2:	0e 94 0f 01 	call	0x21e	; 0x21e <TWI_Stop>
}
 1b6:	cf 91       	pop	r28
 1b8:	08 95       	ret

000001ba <main>:



int main(void){
	
	TWI_Init();
 1ba:	0e 94 fe 00 	call	0x1fc	; 0x1fc <TWI_Init>
	
	DS1307_set_HH(0x15);
 1be:	85 e1       	ldi	r24, 0x15	; 21
 1c0:	0e 94 66 00 	call	0xcc	; 0xcc <DS1307_set_HH>
	DS1307_set_MM(0x35);
 1c4:	85 e3       	ldi	r24, 0x35	; 53
 1c6:	0e 94 77 00 	call	0xee	; 0xee <DS1307_set_MM>
	DS1307_set_SS(0x55);
 1ca:	85 e5       	ldi	r24, 0x55	; 85
 1cc:	0e 94 88 00 	call	0x110	; 0x110 <DS1307_set_SS>
	DS1307_set_Year(0x23);
 1d0:	83 e2       	ldi	r24, 0x23	; 35
 1d2:	0e 94 cc 00 	call	0x198	; 0x198 <DS1307_set_Year>
	DS1307_set_Month(0x05);
 1d6:	85 e0       	ldi	r24, 0x05	; 5
 1d8:	0e 94 bb 00 	call	0x176	; 0x176 <DS1307_set_Month>
	DS1307_set_DAY(0x03);
 1dc:	83 e0       	ldi	r24, 0x03	; 3
 1de:	0e 94 99 00 	call	0x132	; 0x132 <DS1307_set_DAY>
	
	DS1307_set_Date(0x12);
 1e2:	82 e1       	ldi	r24, 0x12	; 18
 1e4:	0e 94 aa 00 	call	0x154	; 0x154 <DS1307_set_Date>
	#else
		//round up by default
		__ticks_dc = (uint32_t)(ceil(fabs(__tmp)));
	#endif

	__builtin_avr_delay_cycles(__ticks_dc);
 1e8:	2f ef       	ldi	r18, 0xFF	; 255
 1ea:	81 ee       	ldi	r24, 0xE1	; 225
 1ec:	94 e0       	ldi	r25, 0x04	; 4
 1ee:	21 50       	subi	r18, 0x01	; 1
 1f0:	80 40       	sbci	r24, 0x00	; 0
 1f2:	90 40       	sbci	r25, 0x00	; 0
 1f4:	e1 f7       	brne	.-8      	; 0x1ee <main+0x34>
 1f6:	00 c0       	rjmp	.+0      	; 0x1f8 <main+0x3e>
 1f8:	00 00       	nop
 1fa:	f6 cf       	rjmp	.-20     	; 0x1e8 <main+0x2e>

000001fc <TWI_Init>:
	
	// TMSR0 = 0 -> PREESCALER = 1
	// TMSR0 = 1 -> PREESCALER = 4
	// TMSR0 = 2 -> PREESCALER = 16
	// TMSR0 = 3 -> PREESCALER = 64
	TWSR0 = 0; 
 1fc:	10 92 b9 00 	sts	0x00B9, r1	; 0x8000b9 <__TEXT_REGION_LENGTH__+0x7f80b9>
				|   Fosc      |   
		TWBRn = | ______ - 16 | / 2
				|  Fscl		  |	
                
	*/
	TWBR0 = ((F_CPU/SCL_CLOCK)-16)/2; 
 200:	88 e4       	ldi	r24, 0x48	; 72
 202:	80 93 b8 00 	sts	0x00B8, r24	; 0x8000b8 <__TEXT_REGION_LENGTH__+0x7f80b8>
	
	// Habilitación del TWI;
	TWCR0 = (1<<TWEN);           
 206:	84 e0       	ldi	r24, 0x04	; 4
 208:	80 93 bc 00 	sts	0x00BC, r24	; 0x8000bc <__TEXT_REGION_LENGTH__+0x7f80bc>
 20c:	08 95       	ret

0000020e <TWI_Start>:
}

void TWI_Start(void){
	TWCR0 = (1<<TWINT)|	(1<<TWSTA)|(1<<TWEN); //enviamos la instruccion de start condition ofrecida por el fabricante
 20e:	84 ea       	ldi	r24, 0xA4	; 164
 210:	80 93 bc 00 	sts	0x00BC, r24	; 0x8000bc <__TEXT_REGION_LENGTH__+0x7f80bc>
	while (!(TWCR0 &(1<<TWINT))); // Esperamos a que se genere la señal de start
 214:	80 91 bc 00 	lds	r24, 0x00BC	; 0x8000bc <__TEXT_REGION_LENGTH__+0x7f80bc>
 218:	88 23       	and	r24, r24
 21a:	e4 f7       	brge	.-8      	; 0x214 <TWI_Start+0x6>
}
 21c:	08 95       	ret

0000021e <TWI_Stop>:

void TWI_Stop(void){

	TWCR0 = (1<<TWINT)|(1<<TWEN)|(1<<TWSTO);
 21e:	84 e9       	ldi	r24, 0x94	; 148
 220:	80 93 bc 00 	sts	0x00BC, r24	; 0x8000bc <__TEXT_REGION_LENGTH__+0x7f80bc>
	while(TWCR0 & (1<<TWSTO));
 224:	80 91 bc 00 	lds	r24, 0x00BC	; 0x8000bc <__TEXT_REGION_LENGTH__+0x7f80bc>
 228:	84 fd       	sbrc	r24, 4
 22a:	fc cf       	rjmp	.-8      	; 0x224 <TWI_Stop+0x6>
}
 22c:	08 95       	ret

0000022e <TWI_Write>:

void TWI_Write(uint8_t data){
	// Escritura de datos en el bus TWI
	TWDR0 = data;
 22e:	80 93 bb 00 	sts	0x00BB, r24	; 0x8000bb <__TEXT_REGION_LENGTH__+0x7f80bb>
	TWCR0 = (1<<TWINT)|(1<<TWEN);
 232:	84 e8       	ldi	r24, 0x84	; 132
 234:	80 93 bc 00 	sts	0x00BC, r24	; 0x8000bc <__TEXT_REGION_LENGTH__+0x7f80bc>
	
	// Esperar a que se complete la operación
	while (!(TWCR0 & (1<<TWINT)));
 238:	80 91 bc 00 	lds	r24, 0x00BC	; 0x8000bc <__TEXT_REGION_LENGTH__+0x7f80bc>
 23c:	88 23       	and	r24, r24
 23e:	e4 f7       	brge	.-8      	; 0x238 <TWI_Write+0xa>
}
 240:	08 95       	ret

00000242 <_exit>:
 242:	f8 94       	cli

00000244 <__stop_program>:
 244:	ff cf       	rjmp	.-2      	; 0x244 <__stop_program>
